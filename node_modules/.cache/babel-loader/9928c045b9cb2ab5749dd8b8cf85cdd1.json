{"ast":null,"code":"'use strict';\n\nmodule.exports = visitParents;\n\nvar convert = require('unist-util-is/convert');\n\nvar color = require('./color');\n\nvar CONTINUE = true;\nvar SKIP = 'skip';\nvar EXIT = false;\nvisitParents.CONTINUE = CONTINUE;\nvisitParents.SKIP = SKIP;\nvisitParents.EXIT = EXIT;\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var step;\n  var is;\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor;\n    visitor = test;\n    test = null;\n  }\n\n  is = convert(test);\n  step = reverse ? -1 : 1;\n  factory(tree, null, [])();\n\n  function factory(node, index, parents) {\n    var value = typeof node === 'object' && node !== null ? node : {};\n    var name;\n\n    if (typeof value.type === 'string') {\n      name = typeof value.tagName === 'string' ? value.tagName : typeof value.name === 'string' ? value.name : undefined;\n      visit.displayName = 'node (' + color(value.type + (name ? '<' + name + '>' : '')) + ')';\n    }\n\n    return visit;\n\n    function visit() {\n      var grandparents = parents.concat(node);\n      var result = [];\n      var subresult;\n      var offset;\n\n      if (!test || is(node, index, parents[parents.length - 1] || null)) {\n        result = toResult(visitor(node, parents));\n\n        if (result[0] === EXIT) {\n          return result;\n        }\n      }\n\n      if (node.children && result[0] !== SKIP) {\n        offset = (reverse ? node.children.length : -1) + step;\n\n        while (offset > -1 && offset < node.children.length) {\n          subresult = factory(node.children[offset], offset, grandparents)();\n\n          if (subresult[0] === EXIT) {\n            return subresult;\n          }\n\n          offset = typeof subresult[1] === 'number' ? subresult[1] : offset + step;\n        }\n      }\n\n      return result;\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value;\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value];\n  }\n\n  return [value];\n}","map":{"version":3,"names":["module","exports","visitParents","convert","require","color","CONTINUE","SKIP","EXIT","tree","test","visitor","reverse","step","is","factory","node","index","parents","value","name","type","tagName","undefined","visit","displayName","grandparents","concat","result","subresult","offset","length","toResult","children"],"sources":["/Users/zhangruikai/Desktop/rudyzhang123.github.io/node_modules/unist-util-visit/node_modules/unist-util-visit-parents/index.js"],"sourcesContent":["'use strict'\n\nmodule.exports = visitParents\n\nvar convert = require('unist-util-is/convert')\nvar color = require('./color')\n\nvar CONTINUE = true\nvar SKIP = 'skip'\nvar EXIT = false\n\nvisitParents.CONTINUE = CONTINUE\nvisitParents.SKIP = SKIP\nvisitParents.EXIT = EXIT\n\nfunction visitParents(tree, test, visitor, reverse) {\n  var step\n  var is\n\n  if (typeof test === 'function' && typeof visitor !== 'function') {\n    reverse = visitor\n    visitor = test\n    test = null\n  }\n\n  is = convert(test)\n  step = reverse ? -1 : 1\n\n  factory(tree, null, [])()\n\n  function factory(node, index, parents) {\n    var value = typeof node === 'object' && node !== null ? node : {}\n    var name\n\n    if (typeof value.type === 'string') {\n      name =\n        typeof value.tagName === 'string'\n          ? value.tagName\n          : typeof value.name === 'string'\n          ? value.name\n          : undefined\n\n      visit.displayName =\n        'node (' + color(value.type + (name ? '<' + name + '>' : '')) + ')'\n    }\n\n    return visit\n\n    function visit() {\n      var grandparents = parents.concat(node)\n      var result = []\n      var subresult\n      var offset\n\n      if (!test || is(node, index, parents[parents.length - 1] || null)) {\n        result = toResult(visitor(node, parents))\n\n        if (result[0] === EXIT) {\n          return result\n        }\n      }\n\n      if (node.children && result[0] !== SKIP) {\n        offset = (reverse ? node.children.length : -1) + step\n\n        while (offset > -1 && offset < node.children.length) {\n          subresult = factory(node.children[offset], offset, grandparents)()\n\n          if (subresult[0] === EXIT) {\n            return subresult\n          }\n\n          offset =\n            typeof subresult[1] === 'number' ? subresult[1] : offset + step\n        }\n      }\n\n      return result\n    }\n  }\n}\n\nfunction toResult(value) {\n  if (value !== null && typeof value === 'object' && 'length' in value) {\n    return value\n  }\n\n  if (typeof value === 'number') {\n    return [CONTINUE, value]\n  }\n\n  return [value]\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}